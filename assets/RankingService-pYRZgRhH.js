var n="http://localhost:5000/api",i=class{getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("focovest_token")}`}}async getGlobalRanking(e=10){try{console.log("ðŸ† RankingService: Buscando ranking global...");const o=await fetch(`${n}/rankings?limit=${e}`,{method:"GET",headers:this.getAuthHeaders()});if(!o.ok){const a=await o.json();throw new Error(a.message||"Erro ao buscar ranking")}const r=await o.json();return console.log("âœ… RankingService: Ranking global carregado"),r.data}catch(o){return console.error("âŒ RankingService: Erro ao buscar ranking global:",o),this.getMockGlobalRanking()}}async getUniversityRanking(e,o=10){try{console.log(`ðŸ† RankingService: Buscando ranking da ${e}...`);const r=await fetch(`${n}/rankings/${e}?limit=${o}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const t=await r.json();throw new Error(t.message||"Erro ao buscar ranking da universidade")}const a=await r.json();return console.log(`âœ… RankingService: Ranking da ${e} carregado`),a.data}catch(r){return console.error(`âŒ RankingService: Erro ao buscar ranking da ${e}:`,r),this.getMockUniversityRanking(e)}}async getUserRanking(){try{console.log("ðŸ“Š RankingService: Buscando posiÃ§Ã£o do usuÃ¡rio...");const e=await fetch(`${n}/rankings/user/position`,{method:"GET",headers:this.getAuthHeaders()});if(!e.ok){const r=await e.json();throw new Error(r.message||"Erro ao buscar posiÃ§Ã£o do usuÃ¡rio")}const o=await e.json();return console.log("âœ… RankingService: PosiÃ§Ã£o do usuÃ¡rio carregada"),o.data}catch(e){return console.error("âŒ RankingService: Erro ao buscar posiÃ§Ã£o do usuÃ¡rio:",e),this.getMockUserRanking()}}getMockGlobalRanking(){return[{_id:"1",name:"JoÃ£o Silva",university:"UFC",statistics:{totalSimulations:45,averageScore:92.5,correctAnswers:850,totalQuestions:920},level:8,experience:1200,position:1},{_id:"2",name:"Maria Santos",university:"UECE",statistics:{totalSimulations:38,averageScore:89.2,correctAnswers:720,totalQuestions:810},level:7,experience:980,position:2},{_id:"3",name:"Carlos Oliveira",university:"UVA",statistics:{totalSimulations:42,averageScore:87.8,correctAnswers:680,totalQuestions:775},level:6,experience:850,position:3}]}getMockUniversityRanking(e){return this.getMockGlobalRanking().filter(o=>o.university===e).map((o,r)=>({...o,position:r+1}))}getMockUserRanking(){return{globalPosition:Math.floor(Math.random()*100)+1,universityPosition:Math.floor(Math.random()*20)+1,totalUsers:1247,universityUsers:156}}},s=new i;export{s as t};
