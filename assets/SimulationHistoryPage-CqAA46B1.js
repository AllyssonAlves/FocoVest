import{a as p}from"./rolldown-runtime-Dq6TatWD.js";import{A as f,E as I,F as d,I as U,P as _,Pt as P,Tt as E,W as F,j as B,jt as H,s as k,t as M,u as D,v as R,w as $}from"./react-vendor-BpwrftXY.js";var r=p(P()),e=p(E()),L=()=>{const i=H(),[a,y]=(0,r.useState)([]),[j,m]=(0,r.useState)(!1),[n,N]=(0,r.useState)(""),[o,v]=(0,r.useState)(""),[c,b]=(0,r.useState)(""),[u,w]=(0,r.useState)("recent"),C=[{id:"1",simulationId:"sim1",simulationTitle:"Simulado UVA - Matemática Básica",university:"UVA",category:"Exatas",difficulty:"medio",completedAt:"2024-10-18T14:30:00Z",duration:120,totalQuestions:30,correctAnswers:25,score:83.3,rank:12,totalParticipants:156,isPersonalBest:!0,timeSpent:95},{id:"2",simulationId:"sim2",simulationTitle:"UECE - Redação e Literatura",university:"UECE",category:"Linguagens",difficulty:"dificil",completedAt:"2024-10-16T16:45:00Z",duration:180,totalQuestions:25,correctAnswers:18,score:72,rank:34,totalParticipants:89,isPersonalBest:!1,timeSpent:165},{id:"3",simulationId:"sim3",simulationTitle:"URCA - História e Geografia",university:"URCA",category:"Humanas",difficulty:"medio",completedAt:"2024-10-14T10:20:00Z",duration:150,totalQuestions:35,correctAnswers:28,score:80,rank:8,totalParticipants:67,isPersonalBest:!1,timeSpent:142},{id:"4",simulationId:"sim4",simulationTitle:"UFC - Ciências da Natureza",university:"UFC",category:"Ciências",difficulty:"dificil",completedAt:"2024-10-12T19:15:00Z",duration:240,totalQuestions:45,correctAnswers:32,score:71.1,rank:45,totalParticipants:234,isPersonalBest:!1,timeSpent:198},{id:"5",simulationId:"sim5",simulationTitle:"IFCE - Conhecimentos Gerais",university:"IFCE",category:"Geral",difficulty:"facil",completedAt:"2024-10-10T08:30:00Z",duration:90,totalQuestions:20,correctAnswers:17,score:85,rank:3,totalParticipants:45,isPersonalBest:!0,timeSpent:78}];(0,r.useEffect)(()=>{m(!0),setTimeout(()=>{y(C),m(!1)},800)},[]);const l={totalSimulations:a.length,averageScore:a.reduce((s,t)=>s+t.score,0)/a.length||0,bestScore:Math.max(...a.map(s=>s.score))||0,totalHours:Math.round(a.reduce((s,t)=>s+t.timeSpent,0)/60*10)/10,personalBests:a.filter(s=>s.isPersonalBest).length},x=a.filter(s=>!(n&&!s.simulationTitle.toLowerCase().includes(n.toLowerCase())||o&&s.university!==o||c&&s.difficulty!==c)).sort((s,t)=>{switch(u){case"recent":return new Date(t.completedAt).getTime()-new Date(s.completedAt).getTime();case"score":return t.score-s.score;case"duration":return s.timeSpent-t.timeSpent;default:return 0}}),S=s=>{switch(s){case"facil":return"text-green-600 bg-green-100";case"medio":return"text-yellow-600 bg-yellow-100";case"dificil":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600",T=s=>new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=s=>{const t=Math.floor(s/60),g=s%60;return t>0?`${t}h ${g}min`:`${g}min`};return(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,e.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,e.jsx)(d,{className:"w-8 h-8 text-blue-600"}),"Meu Histórico"]}),(0,e.jsx)("p",{className:"mt-2 text-gray-600",children:"Acompanhe seu progresso e performance nos simulados"})]})}),(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,e.jsx)(d,{className:"w-6 h-6 text-blue-600"})}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Simulados"}),(0,e.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l.totalSimulations})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,e.jsx)(D,{className:"w-6 h-6 text-green-600"})}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Média Geral"}),(0,e.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[l.averageScore.toFixed(1),"%"]})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,e.jsx)(k,{className:"w-6 h-6 text-yellow-600"})}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Melhor Nota"}),(0,e.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[l.bestScore.toFixed(1),"%"]})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,e.jsx)(f,{className:"w-6 h-6 text-purple-600"})}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tempo Total"}),(0,e.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[l.totalHours,"h"]})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,e.jsx)($,{className:"w-6 h-6 text-orange-600"})}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Records Pessoais"}),(0,e.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l.personalBests})]})]})})]}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:(0,e.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,e.jsx)("input",{type:"text",id:"search-history",name:"searchHistory",placeholder:"Buscar no histórico...",value:n,onChange:s=>N(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"})]})}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)("select",{id:"filter-university-history",name:"filterUniversityHistory",value:o,onChange:s=>v(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,e.jsx)("option",{value:"",children:"Todas Universidades"}),(0,e.jsx)("option",{value:"UVA",children:"UVA"}),(0,e.jsx)("option",{value:"UECE",children:"UECE"}),(0,e.jsx)("option",{value:"UFC",children:"UFC"}),(0,e.jsx)("option",{value:"URCA",children:"URCA"}),(0,e.jsx)("option",{value:"IFCE",children:"IFCE"})]}),(0,e.jsxs)("select",{id:"filter-difficulty-history",name:"filterDifficultyHistory",value:c,onChange:s=>b(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,e.jsx)("option",{value:"",children:"Todas Dificuldades"}),(0,e.jsx)("option",{value:"facil",children:"Fácil"}),(0,e.jsx)("option",{value:"medio",children:"Médio"}),(0,e.jsx)("option",{value:"dificil",children:"Difícil"})]}),(0,e.jsxs)("select",{id:"sort-by-history",name:"sortByHistory",value:u,onChange:s=>w(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,e.jsx)("option",{value:"recent",children:"Mais Recente"}),(0,e.jsx)("option",{value:"score",children:"Melhor Nota"}),(0,e.jsx)("option",{value:"duration",children:"Menor Tempo"})]})]})]})}),j?(0,e.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x.length===0?(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)(d,{className:"w-24 h-24 text-gray-300 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Nenhum simulado no histórico"}),(0,e.jsx)("p",{className:"text-gray-600 mb-6",children:"Complete alguns simulados para ver seu progresso aqui."}),(0,e.jsx)("button",{onClick:()=>i("/simulations"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Fazer Simulados"})]}):(0,e.jsx)("div",{className:"space-y-4",children:x.map(s=>(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:(0,e.jsx)("div",{className:"p-6",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.simulationTitle}),(0,e.jsx)("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:s.university}),(0,e.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${S(s.difficulty)}`,children:s.difficulty.charAt(0).toUpperCase()+s.difficulty.slice(1)}),s.isPersonalBest&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 bg-yellow-50 px-2 py-1 rounded-full",children:[(0,e.jsx)(M,{className:"w-3 h-3"}),(0,e.jsx)("span",{className:"text-xs font-medium",children:"Record Pessoal"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(U,{className:"w-4 h-4"}),(0,e.jsx)("span",{children:T(s.completedAt)})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(f,{className:"w-4 h-4"}),(0,e.jsxs)("span",{children:[h(s.timeSpent)," / ",h(s.duration)]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(_,{className:"w-4 h-4"}),(0,e.jsxs)("span",{children:[s.correctAnswers,"/",s.totalQuestions," questões"]})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Nota:"}),(0,e.jsxs)("span",{className:`text-lg font-bold ${A(s.score)}`,children:[s.score.toFixed(1),"%"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Ranking:"}),(0,e.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",s.rank," de ",s.totalParticipants]})]}),(0,e.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:s.category})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>i(`/simulations/${s.simulationId}/results`),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg transition-colors",title:"Ver detalhes",children:(0,e.jsx)(I,{className:"w-5 h-5"})}),(0,e.jsx)("button",{onClick:()=>i(`/integrated-simulation/${s.simulationId}`),className:"text-green-600 hover:text-green-700 p-2 rounded-lg transition-colors",title:"Refazer simulado",children:(0,e.jsx)(F,{className:"w-5 h-5"})}),(0,e.jsx)(B,{className:"w-5 h-5 text-gray-400"})]})]})})},s.id))})]})]})},V=L;export{V as default};
